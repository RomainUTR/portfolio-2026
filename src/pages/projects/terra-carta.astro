---
import Layout from "../../layouts/Layout.astro";
---

<Layout title="Terra Carta">
    <main class="max-w-6xl mx-auto px-6 py-20 text-zinc-300">
        <header class="mb-24">
            <a
                href="/#projects"
                class="text-zinc-500 hover:text-white mb-8 inline-block font-mono text-sm transition-colors"
            >
                ← Back to projects
            </a>

            <div
                class="flex flex-col lg:flex-row lg:items-end justify-between gap-8 mb-12"
            >
                <div class="space-y-4">
                    <h1
                        class="text-6xl md:text-7xl font-bold text-white tracking-tight"
                    >
                        Terra Carta
                    </h1>
                    <p class="text-2xl text-zinc-400 font-light">
                        Relaxing Atmospheric Puzzle Game
                    </p>
                </div>

                <div class="flex gap-4">
                    <a
                        href="https://steamcollect.itch.io/terra-carta"
                        target="_blank"
                        class="flex items-center justify-center border border-zinc-700 text-zinc-300 px-5 py-3 font-medium rounded hover:border-[#fa5c5c] hover:text-[#fa5c5c] transition-colors"
                    >
                        Itch.io
                    </a>
                </div>
            </div>

            <div
                class="grid grid-cols-2 md:grid-cols-4 gap-8 border-y border-zinc-800 py-8 font-mono text-sm"
            >
                <div>
                    <span
                        class="block text-zinc-500 text-xs mb-2 uppercase tracking-wider"
                        >Role</span
                    >
                    <span class="text-white block">Gameplay & Sound Design</span
                    >
                </div>
                <div>
                    <span
                        class="block text-zinc-500 text-xs mb-2 uppercase tracking-wider"
                        >Team</span
                    >
                    <span class="text-white block"
                        >3 Developers & 6 Concept Artists</span
                    >
                </div>
                <div>
                    <span
                        class="block text-zinc-500 text-xs mb-2 uppercase tracking-wider"
                        >Timeline</span
                    >
                    <span class="text-white block">4.5 Days (Jam)</span>
                    <span class="text-zinc-400 text-[10px] block mt-1 italic"
                        >Nov. 2025 | Bachelor 1st Year</span
                    >
                </div>
                <div>
                    <span
                        class="block text-zinc-500 text-xs mb-2 uppercase tracking-wider"
                        >Stack</span
                    >
                    <span class="text-white block">Unity / C#</span>
                </div>
            </div>
        </header>

        <section class="mb-32 max-w-5xl">
            <h2
                class="text-3xl font-bold text-white mb-8 flex items-center gap-3"
            >
                <span class="w-12 h-1 bg-indigo-500 rounded-full"></span>
                The Context
            </h2>

            <div class="text-lg leading-relaxed space-y-6 text-zinc-300">
                <p>
                    Terra Carta was created during a ‘Creative Week’ at
                    Bellecour Ecole. We had less than five days to independently
                    create a creative experience within the constraints of the
                    cards and with a theme of our choice. We chose “Echo” and
                    ‘Fragment’ as a bonus. We worked with a third-year student
                    as our lead, who taught us a lot.
                </p>
                <p>
                    Our goal was to create a <strong class="text-white"
                        >relaxing and polished experience</strong
                    >. My focus was on the "Juice" and UX: ensuring players
                    understood interactions instantly.
                </p>

                <div class="pt-6">
                    <h3
                        class="text-white font-bold mb-4 text-base uppercase tracking-wider"
                    >
                        My Contributions
                    </h3>
                    <ul
                        class="grid md:grid-cols-3 gap-6 border-t border-zinc-800 pt-6"
                    >
                        <li class="block">
                            <span class="text-indigo-400 block mb-2 text-xl"
                                >01</span
                            >
                            <span class="text-white font-bold block mb-1"
                                >UI Integration</span
                            >
                            <span class="text-sm text-zinc-500"
                                >Implemented the tooltip logic & the menu</span
                            >
                        </li>
                        <li class="block">
                            <span class="text-purple-400 block mb-2 text-xl"
                                >02</span
                            >
                            <span class="text-white font-bold block mb-1"
                                >Sound Design</span
                            >
                            <span class="text-sm text-zinc-500"
                                >Integrated all audio assets</span
                            >
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="mb-32">
            <h2
                class="text-3xl font-bold text-white mb-12 flex items-center gap-3"
            >
                <span class="w-12 h-1 bg-emerald-500 rounded-full"></span>
                Learning & Implementation
            </h2>

            <div class="grid lg:grid-cols-2 gap-12 mb-12">
                <div>
                    <h3 class="text-xl text-white font-bold mb-4">
                        Handling UI in World Space
                    </h3>
                    <p class="text-zinc-400 leading-relaxed text-lg mb-6">
                        One of my tasks was to create tooltips for the cards to
                        explain their effects on other cards. I used a <strong
                            class="text-white">Singleton Pattern</strong
                        > so that the behavior could be accessed from anywhere without
                        complex links, especially in the context of a jam.
                    </p>
                    <p class="text-zinc-400 leading-relaxed text-lg">
                        My biggest challenge was to position the interface
                        correctly so that it would display above my card and
                        automatically stretch to fit the size of the text.
                    </p>
                </div>
            </div>

            <div
                class="bg-[#1e1e1e] rounded-xl border border-zinc-800 overflow-hidden shadow-2xl mb-32"
            >
                <div
                    class="flex items-center gap-2 px-6 py-3 bg-zinc-900 border-b border-zinc-800 text-xs text-zinc-500 font-mono"
                >
                    <span class="ml-2">TooltipBehaviour.cs</span>
                    <span
                        class="bg-zinc-800 text-zinc-400 px-2 py-0.5 rounded text-[10px] ml-auto"
                        >REF ACTORED FOR PORTFOLIO</span
                    >
                </div>

                <div class="p-8 overflow-x-auto">
                    <pre
                        is:raw><code class="language-csharp text-sm font-mono leading-relaxed">
// Original logic created during the Creative Week Jam.
// Refactored for this portfolio to improve readability and performance.

public class TooltipBehaviour : MonoBehaviour
{
    public static TooltipBehaviour Instance;

    [SerializeField] private TooltipManager _tooltip;
    [SerializeField] private Vector3 _offsetTooltip;
    
    public void ShowTooltip(SSO_CardData cardData, Vector3 triggerPosition)
    {
        _tooltip.SetText(cardData.cardDescription, cardData.cardName);
        _tooltip.gameObject.SetActive(true);

        // Optimization note: In the original jam code, I didn't cache the RectTransform.
        // Today, I would cache it in Awake() to avoid GetComponent calls here.
        RectTransform tooltipRect = _tooltip.GetComponent<RectTransform>();
        
        float heightOffset = tooltipRect.rect.height / 2;
        Vector3 finalPosition = triggerPosition + new Vector3(0, heightOffset, 0) + _offsetTooltip;
        
        _tooltip.transform.position = finalPosition;
    }

    public void HideToolTip()
    {
        _tooltip.gameObject.SetActive(false);
    }
}
</code></pre>
                </div>
            </div>
        </section>

        <section class="mb-20 pt-32 border-t border-transparent">
            <h2
                class="text-3xl font-bold text-white mb-8 flex items-center gap-3"
            >
                <span class="w-12 h-1 bg-purple-500 rounded-full"></span>
                Sound Design & Atmosphere
            </h2>
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div class="text-lg leading-relaxed space-y-6">
                    <p>
                        For a relaxing game, audio plays a major part in the
                        experience. My experience in animation helps me
                        understand the importance of
                        <strong>feedback</strong>.
                    </p>
                </div>
                <div
                    class="aspect-video bg-zinc-900 rounded-xl border border-zinc-800 overflow-hidden shadow-lg"
                >
                    <video
                        controls
                        class="w-full h-full object-cover"
                        poster="/images/terracarta-cover.png"
                    >
                        <source
                            src="/videos/terracarta_audio.mp4"
                            type="video/mp4"
                        />
                        Your browser does not support the video tag.
                    </video>
                </div>
            </div>
        </section>
    </main>
</Layout>
