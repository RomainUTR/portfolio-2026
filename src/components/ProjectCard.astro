---
// src/components/ProjectCard.astro
interface Props {
    title: string;
    subtitle: string;
    videoUrl: string;
    tags?: string[];
    slug: string; // <--- Nouvelle prop
}

const { title, subtitle, videoUrl, slug, tags = [] } = Astro.props;
---

<a 
    href={`/projects/${slug}`}
    class="block group relative aspect-video bg-zinc-900 rounded-xl overflow-hidden border border-zinc-800 hover:border-zinc-500 transition-colors duration-300 cursor-pointer"
>
    <video 
        class="absolute inset-0 w-full h-full object-cover opacity-40 group-hover:opacity-100 transition-opacity duration-500"
        src={videoUrl}
        loop 
        muted 
        playsinline
        preload="auto"
        onmouseover="this.play()" 
        onmouseout="this.pause(); this.currentTime = 0;" 
    ></video>
    
    <div class="absolute inset-0 p-6 flex flex-col justify-end bg-gradient-to-t from-black/90 via-black/40 to-transparent pointer-events-none">
        <div class="transform translate-y-2 group-hover:translate-y-0 transition-transform duration-300">
            <h3 class="text-2xl font-bold text-white mb-1">{title}</h3>
            <p class="text-zinc-400 text-sm mb-3">{subtitle}</p>
            
            <div class="flex gap-2 flex-wrap">
                {tags.map((tag) => (
                    <span class="px-2 py-1 text-xs font-mono bg-zinc-800 text-zinc-300 rounded border border-zinc-700">
                        {tag}
                    </span>
                ))}
            </div>
        </div>
    </div>
</a>